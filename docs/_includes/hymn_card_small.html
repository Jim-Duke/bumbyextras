{%- comment -%}
This include builds a Bootstrap 4 Card for a quick summary of a hymn.

It must be able to handle all the kinds of hymns - no matter what their state
is, and provide easy to understand clues about the hymn.

The basic structure of the card is to show the a slide thumbnail on the top (if
available) with a few basic things on the bottom.  If no slides exist, and thus
no thumbnail, we'll use a generic box with the name of the hymn in it.

{%- endcomment -%}
{%- assign hymn=include.hymn -%}
{%- assign id=hymn.hymn_id -%}
{%- assign research=(site.research | where: "hymn_id", hymn.hymn_id) -%}
{%- if research.size > 0 -%}
{%- assign research_available=true -%}
{%- else -%}
{%- assign research_available=nil -%}
{%- endif -%}
{%- assign articles=(site.posts | where: "hymn_id", id) -%}
{%- if articles.size > 0 -%}
{%- assign articles_available=true -%}
{%- else -%}
{%- assign articles_available=nil -%}
{%- endif -%}
{%- if hymn.external_resources -%}
{%- assign external_available=true -%}
{%- else -%}
{%- assign external_available=nil -%}
{%- endif -%}
<a href="{{ hymn.url | relative_url }}" class="card border shadow border-dark bg-color-1 rounded"
style="max-width: 18rem; color: inherit; text-decoration: none;">
  <img class="card-img-top"
src="{{ site.baseurl }}/Source/public/{{ id }}/{{ id }}_slides_thumbnail.png"
alt="{{ hymn.title }} Slides"/>
</a>
